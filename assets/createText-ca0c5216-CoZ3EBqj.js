import{l as et,b0 as tt,b1 as nt}from"./mermaid.core-CUNT51VD.js";import{j as ke,m as ye,k as pe,l as it,n as rt,p as st,o as ot,q as z,u as lt,v as ct,w as ue,x as at,y as fe,z as Fe,A as ut,B as Be,C as ve,D as Pe,E as de,F as ft,G as ge,H as dt,I as ht,J as pt,K as gt,L as xt,M as mt,N as kt,O as yt,P as he,Q as bt,R as wt,T as St}from"./index-BN6wnxY-.js";const It={};function Tt(e,t){const n=It,i=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,o=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return He(e,i,o)}function He(e,t,n){if(Ct(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return ze(e.children,t,n)}return Array.isArray(e)?ze(e,t,n):""}function ze(e,t,n){const i=[];let o=-1;for(;++o<e.length;)i[o]=He(e[o],t,n);return i.join("")}function Ct(e){return!!(e&&typeof e=="object")}const Et={tokenize:_t};function _t(e){const t=e.attempt(this.parser.constructs.contentInitial,i,o);let n;return t;function i(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),ke(e,t,"linePrefix")}function o(a){return e.enter("paragraph"),s(a)}function s(a){const d=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=d),n=d,l(a)}function l(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return ye(a)?(e.consume(a),e.exit("chunkText"),s):(e.consume(a),l)}}const Ft={tokenize:Bt},Oe={tokenize:zt};function Bt(e){const t=this,n=[];let i=0,o,s,l;return a;function a(g){if(i<n.length){const C=n[i];return t.containerState=C[1],e.attempt(C[0].continuation,d,u)(g)}return u(g)}function d(g){if(i++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,o&&W();const C=t.events.length;let E=C,S;for(;E--;)if(t.events[E][0]==="exit"&&t.events[E][1].type==="chunkFlow"){S=t.events[E][1].end;break}L(i);let _=C;for(;_<t.events.length;)t.events[_][1].end=Object.assign({},S),_++;return pe(t.events,E+1,0,t.events.slice(C)),t.events.length=_,u(g)}return a(g)}function u(g){if(i===n.length){if(!o)return b(g);if(o.currentConstruct&&o.currentConstruct.concrete)return j(g);t.interrupt=!!(o.currentConstruct&&!o._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Oe,f,k)(g)}function f(g){return o&&W(),L(i),b(g)}function k(g){return t.parser.lazy[t.now().line]=i!==n.length,l=t.now().offset,j(g)}function b(g){return t.containerState={},e.attempt(Oe,T,j)(g)}function T(g){return i++,n.push([t.currentConstruct,t.containerState]),b(g)}function j(g){if(g===null){o&&W(),L(0),e.consume(g);return}return o=o||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:s,_tokenizer:o}),N(g)}function N(g){if(g===null){Q(e.exit("chunkFlow"),!0),L(0),e.consume(g);return}return ye(g)?(e.consume(g),Q(e.exit("chunkFlow")),i=0,t.interrupt=void 0,a):(e.consume(g),N)}function Q(g,C){const E=t.sliceStream(g);if(C&&E.push(null),g.previous=s,s&&(s.next=g),s=g,o.defineSkip(g.start),o.write(E),t.parser.lazy[g.start.line]){let S=o.events.length;for(;S--;)if(o.events[S][1].start.offset<l&&(!o.events[S][1].end||o.events[S][1].end.offset>l))return;const _=t.events.length;let A=_,V,P;for(;A--;)if(t.events[A][0]==="exit"&&t.events[A][1].type==="chunkFlow"){if(V){P=t.events[A][1].end;break}V=!0}for(L(i),S=_;S<t.events.length;)t.events[S][1].end=Object.assign({},P),S++;pe(t.events,A+1,0,t.events.slice(_)),t.events.length=S}}function L(g){let C=n.length;for(;C-- >g;){const E=n[C];t.containerState=E[1],E[0].exit.call(t,e)}n.length=g}function W(){o.write([null]),s=void 0,o=void 0,t.containerState._closeFlow=void 0}}function zt(e,t,n){return ke(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}const Ot={tokenize:jt};function jt(e){const t=this,n=e.attempt(it,i,e.attempt(this.parser.constructs.flowInitial,o,ke(e,e.attempt(this.parser.constructs.flow,o,e.attempt(rt,o)),"linePrefix")));return n;function i(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function o(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const Lt={resolveAll:De()},At=Me("string"),Rt=Me("text");function Me(e){return{tokenize:t,resolveAll:De(e==="text"?vt:void 0)};function t(n){const i=this,o=this.parser.constructs[e],s=n.attempt(o,l,a);return l;function l(f){return u(f)?s(f):a(f)}function a(f){if(f===null){n.consume(f);return}return n.enter("data"),n.consume(f),d}function d(f){return u(f)?(n.exit("data"),s(f)):(n.consume(f),d)}function u(f){if(f===null)return!0;const k=o[f];let b=-1;if(k)for(;++b<k.length;){const T=k[b];if(!T.previous||T.previous.call(i,i.previous))return!0}return!1}}}function De(e){return t;function t(n,i){let o=-1,s;for(;++o<=n.length;)s===void 0?n[o]&&n[o][1].type==="data"&&(s=o,o++):(!n[o]||n[o][1].type!=="data")&&(o!==s+2&&(n[s][1].end=n[o-1][1].end,n.splice(s+2,o-s-2),o=s+2),s=void 0);return e?e(n,i):n}}function vt(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const i=e[n-1][1],o=t.sliceStream(i);let s=o.length,l=-1,a=0,d;for(;s--;){const u=o[s];if(typeof u=="string"){for(l=u.length;u.charCodeAt(l-1)===32;)a++,l--;if(l)break;l=-1}else if(u===-2)d=!0,a++;else if(u!==-1){s++;break}}if(a){const u={type:n===e.length||d||a<2?"lineSuffix":"hardBreakTrailing",start:{line:i.end.line,column:i.end.column-a,offset:i.end.offset-a,_index:i.start._index+s,_bufferIndex:s?l:i.start._bufferIndex+l},end:Object.assign({},i.end)};i.end=Object.assign({},u.start),i.start.offset===i.end.offset?Object.assign(i,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}function Pt(e,t,n){let i=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const o={},s=[];let l=[],a=[];const d={consume:W,enter:g,exit:C,attempt:_(E),check:_(S),interrupt:_(S,{interrupt:!0})},u={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:T,sliceSerialize:b,now:j,defineSkip:N,write:k};let f=t.tokenize.call(u,d);return t.resolveAll&&s.push(t),u;function k(h){return l=st(l,h),Q(),l[l.length-1]!==null?[]:(A(t,0),u.events=ot(s,u.events,u),u.events)}function b(h,x){return Mt(T(h),x)}function T(h){return Ht(l,h)}function j(){const{line:h,column:x,offset:F,_index:B,_bufferIndex:$}=i;return{line:h,column:x,offset:F,_index:B,_bufferIndex:$}}function N(h){o[h.line]=h.column,P()}function Q(){let h;for(;i._index<l.length;){const x=l[i._index];if(typeof x=="string")for(h=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===h&&i._bufferIndex<x.length;)L(x.charCodeAt(i._bufferIndex));else L(x)}}function L(h){f=f(h)}function W(h){ye(h)?(i.line++,i.column=1,i.offset+=h===-3?2:1,P()):h!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===l[i._index].length&&(i._bufferIndex=-1,i._index++)),u.previous=h}function g(h,x){const F=x||{};return F.type=h,F.start=j(),u.events.push(["enter",F,u]),a.push(F),F}function C(h){const x=a.pop();return x.end=j(),u.events.push(["exit",x,u]),x}function E(h,x){A(h,x.from)}function S(h,x){x.restore()}function _(h,x){return F;function F(B,$,U){let X,q,ne,Y;return Array.isArray(B)?Z(B):"tokenize"in B?Z([B]):oe(B);function oe(I){return G;function G(H){const J=H!==null&&I[H],K=H!==null&&I.null,ce=[...Array.isArray(J)?J:J?[J]:[],...Array.isArray(K)?K:K?[K]:[]];return Z(ce)(H)}}function Z(I){return X=I,q=0,I.length===0?U:ie(I[q])}function ie(I){return G;function G(H){return Y=V(),ne=I,I.partial||(u.currentConstruct=I),I.name&&u.parser.constructs.disable.null.includes(I.name)?re():I.tokenize.call(x?Object.assign(Object.create(u),x):u,d,le,re)(H)}}function le(I){return h(ne,Y),$}function re(I){return Y.restore(),++q<X.length?ie(X[q]):U}}}function A(h,x){h.resolveAll&&!s.includes(h)&&s.push(h),h.resolve&&pe(u.events,x,u.events.length-x,h.resolve(u.events.slice(x),u)),h.resolveTo&&(u.events=h.resolveTo(u.events,u))}function V(){const h=j(),x=u.previous,F=u.currentConstruct,B=u.events.length,$=Array.from(a);return{restore:U,from:B};function U(){i=h,u.previous=x,u.currentConstruct=F,u.events.length=B,a=$,P()}}function P(){i.line in o&&i.column<2&&(i.column=o[i.line],i.offset+=o[i.line]-1)}}function Ht(e,t){const n=t.start._index,i=t.start._bufferIndex,o=t.end._index,s=t.end._bufferIndex;let l;if(n===o)l=[e[n].slice(i,s)];else{if(l=e.slice(n,o),i>-1){const a=l[0];typeof a=="string"?l[0]=a.slice(i):l.shift()}s>0&&l.push(e[o].slice(0,s))}return l}function Mt(e,t){let n=-1;const i=[];let o;for(;++n<e.length;){const s=e[n];let l;if(typeof s=="string")l=s;else switch(s){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=t?" ":"	";break}case-1:{if(!t&&o)continue;l=" ";break}default:l=String.fromCharCode(s)}o=s===-2,i.push(l)}return i.join("")}const Dt={42:z,43:z,45:z,48:z,49:z,50:z,51:z,52:z,53:z,54:z,55:z,56:z,57:z,62:lt},Wt={91:ct},$t={[-2]:ue,[-1]:ue,32:ue},Nt={35:at,42:fe,45:[Fe,fe],60:ut,61:Fe,95:fe,96:Be,126:Be},Qt={38:ve,92:Pe},Vt={[-5]:de,[-4]:de,[-3]:de,33:ft,38:ve,42:ge,60:[dt,ht],91:pt,92:[gt,Pe],93:xt,95:ge,96:mt},Ut={null:[ge,Lt]},qt={null:[42,95]},Gt={null:[]},Jt=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:qt,contentInitial:Wt,disable:Gt,document:Dt,flow:Nt,flowInitial:$t,insideSpan:Ut,string:Qt,text:Vt},Symbol.toStringTag,{value:"Module"}));function Kt(e){const n=kt([Jt,...(e||{}).extensions||[]]),i={defined:[],lazy:{},constructs:n,content:o(Et),document:o(Ft),flow:o(Ot),string:o(At),text:o(Rt)};return i;function o(s){return l;function l(a){return Pt(i,s,a)}}}const je=/[\0\t\n\r]/g;function Xt(){let e=1,t="",n=!0,i;return o;function o(s,l,a){const d=[];let u,f,k,b,T;for(s=t+s.toString(l),k=0,t="",n&&(s.charCodeAt(0)===65279&&k++,n=void 0);k<s.length;){if(je.lastIndex=k,u=je.exec(s),b=u&&u.index!==void 0?u.index:s.length,T=s.charCodeAt(b),!u){t=s.slice(k);break}if(T===10&&k===b&&i)d.push(-3),i=void 0;else switch(i&&(d.push(-5),i=void 0),k<b&&(d.push(s.slice(k,b)),e+=b-k),T){case 0:{d.push(65533),e++;break}case 9:{for(f=Math.ceil(e/4)*4,d.push(-2);e++<f;)d.push(-1);break}case 10:{d.push(-4),e=1;break}default:i=!0,e=1}k=b+1}return a&&(i&&d.push(-5),t&&d.push(t),d.push(null)),d}}function Yt(e){for(;!yt(e););return e}function se(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Le(e.position):"start"in e||"end"in e?Le(e):"line"in e||"column"in e?xe(e):""}function xe(e){return Ae(e&&e.line)+":"+Ae(e&&e.column)}function Le(e){return xe(e&&e.start)+"-"+xe(e&&e.end)}function Ae(e){return e&&typeof e=="number"?e:1}const We={}.hasOwnProperty,$e=function(e,t,n){return typeof t!="string"&&(n=t,t=void 0),Zt(n)(Yt(Kt(n).document().write(Xt()(e,t,!0))))};function Zt(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(Ee),autolinkProtocol:h,autolinkEmail:h,atxHeading:a(Ie),blockQuote:a(ce),characterEscape:h,characterReference:h,codeFenced:a(Se),codeFencedFenceInfo:d,codeFencedFenceMeta:d,codeIndented:a(Se,d),codeText:a(Ve,d),codeTextData:h,data:h,codeFlowValue:h,definition:a(Ue),definitionDestinationString:d,definitionLabelString:d,definitionTitleString:d,emphasis:a(qe),hardBreakEscape:a(Te),hardBreakTrailing:a(Te),htmlFlow:a(Ce,d),htmlFlowData:h,htmlText:a(Ce,d),htmlTextData:h,image:a(Ge),label:d,link:a(Ee),listItem:a(Je),listItemValue:j,listOrdered:a(_e,T),listUnordered:a(_e),paragraph:a(Ke),reference:re,referenceString:d,resourceDestinationString:d,resourceTitleString:d,setextHeading:a(Ie),strong:a(Xe),thematicBreak:a(Ze)},exit:{atxHeading:f(),atxHeadingSequence:_,autolink:f(),autolinkEmail:K,autolinkProtocol:J,blockQuote:f(),characterEscapeValue:x,characterReferenceMarkerHexadecimal:G,characterReferenceMarkerNumeric:G,characterReferenceValue:H,codeFenced:f(W),codeFencedFence:L,codeFencedFenceInfo:N,codeFencedFenceMeta:Q,codeFlowValue:x,codeIndented:f(g),codeText:f(X),codeTextData:x,data:x,definition:f(),definitionDestinationString:S,definitionLabelString:C,definitionTitleString:E,emphasis:f(),hardBreakEscape:f(B),hardBreakTrailing:f(B),htmlFlow:f($),htmlFlowData:x,htmlText:f(U),htmlTextData:x,image:f(ne),label:oe,labelText:Y,lineEnding:F,link:f(q),listItem:f(),listOrdered:f(),listUnordered:f(),paragraph:f(),referenceString:I,resourceDestinationString:Z,resourceTitleString:ie,resource:le,setextHeading:f(P),setextHeadingLineSequence:V,setextHeadingText:A,strong:f(),thematicBreak:f()}};Ne(t,(e||{}).mdastExtensions||[]);const n={};return i;function i(r){let c={type:"root",children:[]};const p={stack:[c],tokenStack:[],config:t,enter:u,exit:k,buffer:d,resume:b,setData:s,getData:l},m=[];let y=-1;for(;++y<r.length;)if(r[y][1].type==="listOrdered"||r[y][1].type==="listUnordered")if(r[y][0]==="enter")m.push(y);else{const O=m.pop();y=o(r,O,y)}for(y=-1;++y<r.length;){const O=t[r[y][0]];We.call(O,r[y][1].type)&&O[r[y][1].type].call(Object.assign({sliceSerialize:r[y][2].sliceSerialize},p),r[y][1])}if(p.tokenStack.length>0){const O=p.tokenStack[p.tokenStack.length-1];(O[1]||Re).call(p,void 0,O[0])}for(c.position={start:D(r.length>0?r[0][1].start:{line:1,column:1,offset:0}),end:D(r.length>0?r[r.length-2][1].end:{line:1,column:1,offset:0})},y=-1;++y<t.transforms.length;)c=t.transforms[y](c)||c;return c}function o(r,c,p){let m=c-1,y=-1,O=!1,M,R,ee,te;for(;++m<=p;){const w=r[m];if(w[1].type==="listUnordered"||w[1].type==="listOrdered"||w[1].type==="blockQuote"?(w[0]==="enter"?y++:y--,te=void 0):w[1].type==="lineEndingBlank"?w[0]==="enter"&&(M&&!te&&!y&&!ee&&(ee=m),te=void 0):w[1].type==="linePrefix"||w[1].type==="listItemValue"||w[1].type==="listItemMarker"||w[1].type==="listItemPrefix"||w[1].type==="listItemPrefixWhitespace"||(te=void 0),!y&&w[0]==="enter"&&w[1].type==="listItemPrefix"||y===-1&&w[0]==="exit"&&(w[1].type==="listUnordered"||w[1].type==="listOrdered")){if(M){let ae=m;for(R=void 0;ae--;){const v=r[ae];if(v[1].type==="lineEnding"||v[1].type==="lineEndingBlank"){if(v[0]==="exit")continue;R&&(r[R][1].type="lineEndingBlank",O=!0),v[1].type="lineEnding",R=ae}else if(!(v[1].type==="linePrefix"||v[1].type==="blockQuotePrefix"||v[1].type==="blockQuotePrefixWhitespace"||v[1].type==="blockQuoteMarker"||v[1].type==="listItemIndent"))break}ee&&(!R||ee<R)&&(M._spread=!0),M.end=Object.assign({},R?r[R][1].start:w[1].end),r.splice(R||m,0,["exit",M,w[2]]),m++,p++}w[1].type==="listItemPrefix"&&(M={type:"listItem",_spread:!1,start:Object.assign({},w[1].start),end:void 0},r.splice(m,0,["enter",M,w[2]]),m++,p++,ee=void 0,te=!0)}}return r[c][1]._spread=O,p}function s(r,c){n[r]=c}function l(r){return n[r]}function a(r,c){return p;function p(m){u.call(this,r(m),m),c&&c.call(this,m)}}function d(){this.stack.push({type:"fragment",children:[]})}function u(r,c,p){return this.stack[this.stack.length-1].children.push(r),this.stack.push(r),this.tokenStack.push([c,p]),r.position={start:D(c.start)},r}function f(r){return c;function c(p){r&&r.call(this,p),k.call(this,p)}}function k(r,c){const p=this.stack.pop(),m=this.tokenStack.pop();if(m)m[0].type!==r.type&&(c?c.call(this,r,m[0]):(m[1]||Re).call(this,r,m[0]));else throw new Error("Cannot close `"+r.type+"` ("+se({start:r.start,end:r.end})+"): it’s not open");return p.position.end=D(r.end),p}function b(){return Tt(this.stack.pop())}function T(){s("expectingFirstListItemValue",!0)}function j(r){if(l("expectingFirstListItemValue")){const c=this.stack[this.stack.length-2];c.start=Number.parseInt(this.sliceSerialize(r),10),s("expectingFirstListItemValue")}}function N(){const r=this.resume(),c=this.stack[this.stack.length-1];c.lang=r}function Q(){const r=this.resume(),c=this.stack[this.stack.length-1];c.meta=r}function L(){l("flowCodeInside")||(this.buffer(),s("flowCodeInside",!0))}function W(){const r=this.resume(),c=this.stack[this.stack.length-1];c.value=r.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),s("flowCodeInside")}function g(){const r=this.resume(),c=this.stack[this.stack.length-1];c.value=r.replace(/(\r?\n|\r)$/g,"")}function C(r){const c=this.resume(),p=this.stack[this.stack.length-1];p.label=c,p.identifier=he(this.sliceSerialize(r)).toLowerCase()}function E(){const r=this.resume(),c=this.stack[this.stack.length-1];c.title=r}function S(){const r=this.resume(),c=this.stack[this.stack.length-1];c.url=r}function _(r){const c=this.stack[this.stack.length-1];if(!c.depth){const p=this.sliceSerialize(r).length;c.depth=p}}function A(){s("setextHeadingSlurpLineEnding",!0)}function V(r){const c=this.stack[this.stack.length-1];c.depth=this.sliceSerialize(r).charCodeAt(0)===61?1:2}function P(){s("setextHeadingSlurpLineEnding")}function h(r){const c=this.stack[this.stack.length-1];let p=c.children[c.children.length-1];(!p||p.type!=="text")&&(p=Ye(),p.position={start:D(r.start)},c.children.push(p)),this.stack.push(p)}function x(r){const c=this.stack.pop();c.value+=this.sliceSerialize(r),c.position.end=D(r.end)}function F(r){const c=this.stack[this.stack.length-1];if(l("atHardBreak")){const p=c.children[c.children.length-1];p.position.end=D(r.end),s("atHardBreak");return}!l("setextHeadingSlurpLineEnding")&&t.canContainEols.includes(c.type)&&(h.call(this,r),x.call(this,r))}function B(){s("atHardBreak",!0)}function $(){const r=this.resume(),c=this.stack[this.stack.length-1];c.value=r}function U(){const r=this.resume(),c=this.stack[this.stack.length-1];c.value=r}function X(){const r=this.resume(),c=this.stack[this.stack.length-1];c.value=r}function q(){const r=this.stack[this.stack.length-1];if(l("inReference")){const c=l("referenceType")||"shortcut";r.type+="Reference",r.referenceType=c,delete r.url,delete r.title}else delete r.identifier,delete r.label;s("referenceType")}function ne(){const r=this.stack[this.stack.length-1];if(l("inReference")){const c=l("referenceType")||"shortcut";r.type+="Reference",r.referenceType=c,delete r.url,delete r.title}else delete r.identifier,delete r.label;s("referenceType")}function Y(r){const c=this.sliceSerialize(r),p=this.stack[this.stack.length-2];p.label=bt(c),p.identifier=he(c).toLowerCase()}function oe(){const r=this.stack[this.stack.length-1],c=this.resume(),p=this.stack[this.stack.length-1];if(s("inReference",!0),p.type==="link"){const m=r.children;p.children=m}else p.alt=c}function Z(){const r=this.resume(),c=this.stack[this.stack.length-1];c.url=r}function ie(){const r=this.resume(),c=this.stack[this.stack.length-1];c.title=r}function le(){s("inReference")}function re(){s("referenceType","collapsed")}function I(r){const c=this.resume(),p=this.stack[this.stack.length-1];p.label=c,p.identifier=he(this.sliceSerialize(r)).toLowerCase(),s("referenceType","full")}function G(r){s("characterReferenceType",r.type)}function H(r){const c=this.sliceSerialize(r),p=l("characterReferenceType");let m;p?(m=St(c,p==="characterReferenceMarkerNumeric"?10:16),s("characterReferenceType")):m=wt(c);const y=this.stack.pop();y.value+=m,y.position.end=D(r.end)}function J(r){x.call(this,r);const c=this.stack[this.stack.length-1];c.url=this.sliceSerialize(r)}function K(r){x.call(this,r);const c=this.stack[this.stack.length-1];c.url="mailto:"+this.sliceSerialize(r)}function ce(){return{type:"blockquote",children:[]}}function Se(){return{type:"code",lang:null,meta:null,value:""}}function Ve(){return{type:"inlineCode",value:""}}function Ue(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function qe(){return{type:"emphasis",children:[]}}function Ie(){return{type:"heading",depth:void 0,children:[]}}function Te(){return{type:"break"}}function Ce(){return{type:"html",value:""}}function Ge(){return{type:"image",title:null,url:"",alt:null}}function Ee(){return{type:"link",title:null,url:"",children:[]}}function _e(r){return{type:"list",ordered:r.type==="listOrdered",start:null,spread:r._spread,children:[]}}function Je(r){return{type:"listItem",spread:r._spread,checked:null,children:[]}}function Ke(){return{type:"paragraph",children:[]}}function Xe(){return{type:"strong",children:[]}}function Ye(){return{type:"text",value:""}}function Ze(){return{type:"thematicBreak"}}}function D(e){return{line:e.line,column:e.column,offset:e.offset}}function Ne(e,t){let n=-1;for(;++n<t.length;){const i=t[n];Array.isArray(i)?Ne(e,i):en(e,i)}}function en(e,t){let n;for(n in t)if(We.call(t,n)){if(n==="canContainEols"){const i=t[n];i&&e[n].push(...i)}else if(n==="transforms"){const i=t[n];i&&e[n].push(...i)}else if(n==="enter"||n==="exit"){const i=t[n];i&&Object.assign(e[n],i)}}}function Re(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+se({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+se({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+se({start:t.start,end:t.end})+") is still open")}function tn(e){const t=e.replace(/\n{2,}/g,`
`);return nt(t)}function nn(e){const t=tn(e),{children:n}=$e(t),i=[[]];let o=0;function s(l,a="normal"){l.type==="text"?l.value.split(`
`).forEach((u,f)=>{f!==0&&(o++,i.push([])),u.split(" ").forEach(k=>{k&&i[o].push({content:k,type:a})})}):(l.type==="strong"||l.type==="emphasis")&&l.children.forEach(d=>{s(d,l.type)})}return n.forEach(l=>{l.type==="paragraph"&&l.children.forEach(a=>{s(a)})}),i}function rn(e){const{children:t}=$e(e);function n(i){return i.type==="text"?i.value.replace(/\n/g,"<br/>"):i.type==="strong"?`<strong>${i.children.map(n).join("")}</strong>`:i.type==="emphasis"?`<em>${i.children.map(n).join("")}</em>`:i.type==="paragraph"?`<p>${i.children.map(n).join("")}</p>`:`Unsupported markdown: ${i.type}`}return t.map(n).join("")}function sn(e){return Intl.Segmenter?[...new Intl.Segmenter().segment(e)].map(t=>t.segment):[...e]}function on(e,t){const n=sn(t.content);return Qe(e,[],n,t.type)}function Qe(e,t,n,i){if(n.length===0)return[{content:t.join(""),type:i},{content:"",type:i}];const[o,...s]=n,l=[...t,o];return e([{content:l.join(""),type:i}])?Qe(e,l,s,i):(t.length===0&&o&&(t.push(o),n.shift()),[{content:t.join(""),type:i},{content:n.join(""),type:i}])}function ln(e,t){if(e.some(({content:n})=>n.includes(`
`)))throw new Error("splitLineToFitWidth does not support newlines in the line");return me(e,t)}function me(e,t,n=[],i=[]){if(e.length===0)return i.length>0&&n.push(i),n.length>0?n:[];let o="";e[0].content===" "&&(o=" ",e.shift());const s=e.shift()??{content:" ",type:"normal"},l=[...i];if(o!==""&&l.push({content:o,type:"normal"}),l.push(s),t(l))return me(e,t,n,l);if(i.length>0)n.push(i),e.unshift(s);else if(s.content){const[a,d]=on(t,s);n.push([a]),d.content&&e.unshift(d)}return me(e,t,n)}function cn(e,t){t&&e.attr("style",t)}function an(e,t,n,i,o=!1){const s=e.append("foreignObject"),l=s.append("xhtml:div"),a=t.label,d=t.isNode?"nodeLabel":"edgeLabel";l.html(`
    <span class="${d} ${i}" `+(t.labelStyle?'style="'+t.labelStyle+'"':"")+">"+a+"</span>"),cn(l,t.labelStyle),l.style("display","table-cell"),l.style("white-space","nowrap"),l.style("max-width",n+"px"),l.attr("xmlns","http://www.w3.org/1999/xhtml"),o&&l.attr("class","labelBkg");let u=l.node().getBoundingClientRect();return u.width===n&&(l.style("display","table"),l.style("white-space","break-spaces"),l.style("width",n+"px"),u=l.node().getBoundingClientRect()),s.style("width",u.width),s.style("height",u.height),s.node()}function be(e,t,n){return e.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",t*n-.1+"em").attr("dy",n+"em")}function un(e,t,n){const i=e.append("text"),o=be(i,1,t);we(o,n);const s=o.node().getComputedTextLength();return i.remove(),s}function pn(e,t,n){var i;const o=e.append("text"),s=be(o,1,t);we(s,[{content:n,type:"normal"}]);const l=(i=s.node())==null?void 0:i.getBoundingClientRect();return l&&o.remove(),l}function fn(e,t,n,i=!1){const s=t.append("g"),l=s.insert("rect").attr("class","background"),a=s.append("text").attr("y","-10.1");let d=0;for(const u of n){const f=b=>un(s,1.1,b)<=e,k=f(u)?[u]:ln(u,f);for(const b of k){const T=be(a,d,1.1);we(T,b),d++}}if(i){const u=a.node().getBBox(),f=2;return l.attr("x",-f).attr("y",-f).attr("width",u.width+2*f).attr("height",u.height+2*f),s.node()}else return a.node()}function we(e,t){e.text(""),t.forEach((n,i)=>{const o=e.append("tspan").attr("font-style",n.type==="emphasis"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",n.type==="strong"?"bold":"normal");i===0?o.text(n.content):o.text(" "+n.content)})}const gn=(e,t="",{style:n="",isTitle:i=!1,classes:o="",useHtmlLabels:s=!0,isNode:l=!0,width:a=200,addSvgBackground:d=!1}={})=>{if(et.info("createText",t,n,i,o,s,l,d),s){const u=rn(t),f={isNode:l,label:tt(u).replace(/fa[blrs]?:fa-[\w-]+/g,b=>`<i class='${b.replace(":"," ")}'></i>`),labelStyle:n.replace("fill:","color:")};return an(e,f,a,o,d)}else{const u=nn(t);return fn(a,e,u,d)}};export{gn as a,pn as c};
